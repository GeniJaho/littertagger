import{r as g,p as T,o as s,c as m,w as a,d as n,a as o,u as v,i as w,b as u,f as p,e as h,k as N,q as V,F as y,g as k,t as j,s as B,x as F,y as A}from"./app-xG96UM_2.js";import{_ as C}from"./AppLayout-Q9o33GwM.js";import O from"./PhotoItem-84EC8CUA.js";import{_ as x}from"./PrimaryButton-fQc6bsjK.js";import{_ as D}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./ToggleInput-1d0aEqCs.js";const I=t=>(F("data-v-33b14d11"),t=t(),A(),t),L=I(()=>o("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," See Photo ",-1)),M={key:0},R={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},q={class:"flex flex-col md:flex-row md:space-x-8"},E={class:"w-full md:w-1/2 xl:w-1/3 px-4"},G=["src","alt"],z={key:0,class:"flex justify-between mt-4"},H={class:"w-full md:w-1/2 xl:w-2/3 px-4"},J={class:"flex flex-row mt-6 md:mt-0"},K=["value"],Q={class:"mt-4"},W=I(()=>o("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100"}," Litter Objects ",-1)),X={class:"mt-2"},Y={__name:"Show",props:{photoId:Number,items:Array,tags:Object,nextPhotoUrl:String,previousPhotoUrl:String},setup(t){const f=t,r=g(null),_=g([]),c=g(f.items[0].id);T(()=>{i()});const i=()=>{axios.get(`/photos/${f.photoId}`).then(e=>{r.value=e.data.photo,_.value=e.data.items}).catch(e=>{console.log(e)})},P=()=>{axios.post(`/photos/${r.value.id}/items`,{item_id:c.value}).then(()=>{i()})},b=e=>{axios.delete(`/photo-items/${e}`).then(()=>{i()})},S=(e,d)=>{axios.post(`/photo-items/${e.id}/tags`,{tag_id:d}).then(()=>{i()})},U=(e,d)=>{axios.delete(`/photo-items/${e.id}/tags/${d}`).then(()=>{i()})},$=e=>{axios.post(`/photo-items/${e}/picked-up`).then(()=>{i()})};return(e,d)=>(s(),m(C,{title:"See Photo"},{header:a(()=>[L]),default:a(()=>[r.value?(s(),n("div",M,[o("div",R,[o("div",q,[o("div",E,[o("img",{src:r.value.full_path,alt:r.value.id,class:"w-full sm:max-w-2xl sm:overflow-hidden rounded-lg shadow-lg"},null,8,G),t.previousPhotoUrl||t.nextPhotoUrl?(s(),n("div",z,[t.previousPhotoUrl?(s(),m(v(w),{key:0,href:t.previousPhotoUrl},{default:a(()=>[u(x,null,{default:a(()=>[p("Previous")]),_:1})]),_:1},8,["href"])):h("",!0),t.nextPhotoUrl?(s(),m(v(w),{key:1,href:t.nextPhotoUrl,class:"ml-auto"},{default:a(()=>[u(x,null,{default:a(()=>[p("Next")]),_:1})]),_:1},8,["href"])):h("",!0)])):h("",!0)]),o("div",H,[o("div",J,[N(o("select",{id:"add-item","onUpdate:modelValue":d[0]||(d[0]=l=>c.value=l),name:"add-item",class:"block w-full sm:w-48 rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},[(s(!0),n(y,null,k(t.items,l=>(s(),n("option",{value:l.id},j(l.name),9,K))),256))],512),[[V,c.value]]),u(x,{class:"whitespace-nowrap ml-4",onClick:P,disabled:c.value===""},{default:a(()=>[p(" Add Object ")]),_:1},8,["disabled"])]),o("div",Q,[W,o("div",X,[u(B,{tag:"ul",name:"items",role:"list",class:"grid grid-cols-1 gap-6 xl:grid-cols-2"},{default:a(()=>[(s(!0),n(y,null,k(_.value,l=>(s(),m(O,{key:l.pivot.id,item:l,tags:t.tags,onRemoveItem:b,onAddTagToItem:S,onRemoveTagFromItem:U,onTogglePickedUp:$},null,8,["item","tags"]))),128))]),_:1})])])])])])])):h("",!0)]),_:1}))}},lt=D(Y,[["__scopeId","data-v-33b14d11"]]);export{lt as default};
