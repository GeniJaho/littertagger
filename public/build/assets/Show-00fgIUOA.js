import{p as S,q as z,r as U,s as H,o as m,c as $,w as g,d as _,a as d,b as k,u as T,i as M,f as C,e as w,k as X,x as J,F as V,g as D,t as K,y as Y,O as Z,z as ee,A as te}from"./app-AMhzwQ-d.js";import{_ as oe}from"./AppLayout-dxB8-1e3.js";import ne from"./PhotoItem-YPq4Wmkl.js";import{_ as N}from"./PrimaryButton-UUUlzHuB.js";import{_ as se}from"./IconDangerButton-Rr1wl6AM.js";import{_ as ie}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./ToggleInput-OlTNMWho.js";import"./TextInput-eNbto2eI.js";var ae="Expected a function",W=NaN,re="[object Symbol]",le=/^\s+|\s+$/g,de=/^[-+]0x[0-9a-f]+$/i,ce=/^0b[01]+$/i,ue=/^0o[0-7]+$/i,me=parseInt,fe=typeof S=="object"&&S&&S.Object===Object&&S,ge=typeof self=="object"&&self&&self.Object===Object&&self,he=fe||ge||Function("return this")(),pe=Object.prototype,xe=pe.toString,ve=Math.max,_e=Math.min,E=function(){return he.Date.now()};function ye(e,n,s){var c,u,a,h,r,f,x=0,j=!1,v=!1,y=!0;if(typeof e!="function")throw new TypeError(ae);n=G(n)||0,R(s)&&(j=!!s.leading,v="maxWait"in s,a=v?ve(G(s.maxWait)||0,n):a,y="trailing"in s?!!s.trailing:y);function b(o){var p=c,I=u;return c=u=void 0,x=o,h=e.apply(I,p),h}function P(o){return x=o,r=setTimeout(l,n),j?b(o):h}function t(o){var p=o-f,I=o-x,L=n-p;return v?_e(L,a-I):L}function i(o){var p=o-f,I=o-x;return f===void 0||p>=n||p<0||v&&I>=a}function l(){var o=E();if(i(o))return B(o);r=setTimeout(l,t(o))}function B(o){return r=void 0,y&&c?b(o):(c=u=void 0,h)}function Q(){r!==void 0&&clearTimeout(r),x=0,c=f=u=r=void 0}function q(){return r===void 0?h:B(E())}function O(){var o=E(),p=i(o);if(c=arguments,u=this,f=o,p){if(r===void 0)return P(f);if(v)return r=setTimeout(l,n),b(f)}return r===void 0&&(r=setTimeout(l,n)),h}return O.cancel=Q,O.flush=q,O}function R(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function be(e){return!!e&&typeof e=="object"}function Ie(e){return typeof e=="symbol"||be(e)&&xe.call(e)==re}function G(e){if(typeof e=="number")return e;if(Ie(e))return W;if(R(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=R(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(le,"");var s=ce.test(e);return s||ue.test(e)?me(e.slice(2),s?2:8):de.test(e)?W:+e}var ke=ye;const F=z(ke),A=e=>(ee("data-v-ec2def56"),e=e(),te(),e),Te=A(()=>d("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," See Photo ",-1)),we={key:0},je={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},Se={class:"flex flex-col md:flex-row md:space-x-8"},$e={class:"w-full md:w-1/2 xl:w-1/3 px-4"},Pe={class:"relative"},Oe=["src","alt"],Ue=A(()=>d("i",{class:"fas fa-fw fa-trash-alt text-xs"},null,-1)),Ce={key:0,class:"flex justify-between mt-4"},Ne={class:"w-full md:w-1/2 xl:w-2/3 px-4"},Ee={class:"flex flex-row mt-6 md:mt-0"},Fe=["value"],Re={key:0,class:"mt-8"},Ae=A(()=>d("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100"}," Litter Objects ",-1)),Be={class:"mt-2"},Le={__name:"Show",props:{photoId:Number,items:Array,tags:Object,nextPhotoUrl:String,previousPhotoUrl:String},setup(e){const n=e,s=U(null),c=U([]),u=U(n.items[0].id);H(()=>{a()});const a=()=>{axios.get(`/photos/${n.photoId}`).then(t=>{s.value=t.data.photo,c.value=t.data.items}).catch(t=>{console.log(t)})},h=()=>{Z.delete(`/photos/${s.value.id}`)},r=()=>{axios.post(`/photos/${s.value.id}/items`,{item_id:u.value}).then(()=>{a()})},f=t=>{axios.delete(`/photo-items/${t}`).then(()=>{a()})},x=t=>{axios.post(`/photo-items/${t}/copy`).then(()=>{a()})},j=(t,i)=>{axios.post(`/photo-items/${t.id}/tags`,{tag_id:i}).then(()=>{a()})},v=(t,i)=>{axios.delete(`/photo-items/${t.id}/tags/${i}`).then(()=>{a()})},y=F((t,i)=>{axios.post(`/photo-items/${t}`,{picked_up:i}).then(()=>{a()})},1e3,{leading:!0,trailing:!0}),b=F((t,i)=>{axios.post(`/photo-items/${t}`,{recycled:i}).then(()=>{a()})},1e3,{leading:!0,trailing:!0}),P=F((t,i)=>{axios.post(`/photo-items/${t}`,{quantity:i}).then(()=>{a()})},1e3,{leading:!0,trailing:!0});return(t,i)=>(m(),$(oe,{title:"See Photo"},{header:g(()=>[Te]),default:g(()=>[s.value?(m(),_("div",we,[d("div",je,[d("div",Se,[d("div",$e,[d("div",Pe,[d("img",{src:s.value.full_path,alt:s.value.id,class:"w-full sm:max-w-2xl sm:overflow-hidden rounded-lg shadow-lg"},null,8,Oe),k(se,{class:"absolute top-4 right-4",onClick:h},{default:g(()=>[Ue]),_:1})]),e.previousPhotoUrl||e.nextPhotoUrl?(m(),_("div",Ce,[e.previousPhotoUrl?(m(),$(T(M),{key:0,href:e.previousPhotoUrl},{default:g(()=>[k(N,null,{default:g(()=>[C("Previous")]),_:1})]),_:1},8,["href"])):w("",!0),e.nextPhotoUrl?(m(),$(T(M),{key:1,href:e.nextPhotoUrl,class:"ml-auto"},{default:g(()=>[k(N,null,{default:g(()=>[C("Next")]),_:1})]),_:1},8,["href"])):w("",!0)])):w("",!0)]),d("div",Ne,[d("div",Ee,[X(d("select",{id:"add-item","onUpdate:modelValue":i[0]||(i[0]=l=>u.value=l),name:"add-item",class:"block w-full sm:w-48 rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},[(m(!0),_(V,null,D(e.items,l=>(m(),_("option",{value:l.id},K(l.name),9,Fe))),256))],512),[[J,u.value]]),k(N,{class:"whitespace-nowrap ml-4",onClick:r,disabled:u.value===""},{default:g(()=>[C(" Add Object ")]),_:1},8,["disabled"])]),c.value.length?(m(),_("div",Re,[Ae,d("div",Be,[k(Y,{tag:"ul",name:"items",role:"list",class:"grid grid-cols-1 gap-6 xl:grid-cols-2"},{default:g(()=>[(m(!0),_(V,null,D(c.value,l=>(m(),$(ne,{key:l.pivot.id,item:l,tags:e.tags,onRemoveItem:f,onAddTagToItem:j,onRemoveTagFromItem:v,onCopyItem:x,onTogglePickedUp:T(y),onToggleRecycled:T(b),onUpdateQuantity:T(P)},null,8,["item","tags","onTogglePickedUp","onToggleRecycled","onUpdateQuantity"]))),128))]),_:1})])])):w("",!0)])])])])):w("",!0)]),_:1}))}},He=ie(Le,[["__scopeId","data-v-ec2def56"]]);export{He as default};
