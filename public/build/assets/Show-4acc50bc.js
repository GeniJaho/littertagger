import{r as c,p as b,o as i,c as p,w as m,d as r,a as t,k as I,q as k,F as g,g as h,t as S,b as $,s as T,e as A,x as B,y as F}from"./app-d7073bf7.js";import{_ as N}from"./AppLayout-87415248.js";import V from"./PhotoItem-276c2b0a.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";const x=s=>(B("data-v-ada926fe"),s=s(),F(),s),P=x(()=>t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," See Photo ",-1)),j={key:0},D={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},L={class:"flex flex-col sm:flex-row space-x-8"},M={class:"w-full sm:w-1/2 md:w-1/3"},O=["src","alt"],R={class:"w-full sm:w-1/2 md:w-2/3"},q={class:"flex flex-row"},E=["value"],G=["disabled"],U={class:"mt-4"},z=x(()=>t("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-50"}," Litter Objects ",-1)),H={class:"mt-2"},J={__name:"Show",props:{photoId:Number,items:Array,tags:Array},setup(s){const u=s,a=c(null),_=c([]),n=c(u.items[0].id);b(()=>{l()});const l=()=>{axios.get(`/photos/${u.photoId}`).then(e=>{a.value=e.data.photo,_.value=e.data.items}).catch(e=>{console.log(e)})},v=()=>{axios.post(`/photos/${a.value.id}/items`,{item_id:n.value}).then(()=>{l()})},f=e=>{axios.delete(`/photos/${a.value.id}/items/${e}`).then(()=>{l()})},w=(e,d)=>{axios.post(`/photo-items/${e.id}/tags`,{tag_id:d}).then(()=>{l()})},y=(e,d)=>{axios.delete(`/photo-items/${e.id}/tags/${d}`).then(()=>{l()})};return(e,d)=>(i(),p(N,{title:"See Photo"},{header:m(()=>[P]),default:m(()=>[a.value?(i(),r("div",j,[t("div",D,[t("div",L,[t("div",M,[t("img",{src:a.value.full_path,alt:a.value.id,class:"w-full sm:max-w-2xl"},null,8,O)]),t("div",R,[t("div",q,[I(t("select",{id:"add-item","onUpdate:modelValue":d[0]||(d[0]=o=>n.value=o),name:"add-item",class:"block w-full sm:w-48 rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},[(i(!0),r(g,null,h(s.items,o=>(i(),r("option",{value:o.id},S(o.name),9,E))),256))],512),[[k,n.value]]),t("button",{type:"button",class:"ml-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",onClick:v,disabled:n.value===""}," Add Object ",8,G)]),t("div",U,[z,t("div",H,[$(T,{tag:"ul",name:"items",role:"list",class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},{default:m(()=>[(i(!0),r(g,null,h(_.value,o=>(i(),p(V,{key:o.pivot.id,item:o,tags:s.tags,onRemoveItem:f,onAddTagToItem:w,onRemoveTagFromItem:y},null,8,["item","tags"]))),128))]),_:1})])])])])])])):A("",!0)]),_:1}))}},Y=C(J,[["__scopeId","data-v-ada926fe"]]);export{Y as default};
