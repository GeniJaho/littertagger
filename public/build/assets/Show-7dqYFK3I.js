import{r as u,p as T,o as s,c as m,w as i,d as c,a as e,u as _,i as f,b as h,f as x,k as N,q as U,F as v,g as w,t as V,s as j,e as A,x as B,y as F}from"./app-vi6GXwMX.js";import{_ as C}from"./AppLayout-eIcCcJco.js";import O from"./PhotoItem-HMxAPXLb.js";import{_ as y}from"./PrimaryButton-e1Ru7fM-.js";import{_ as D}from"./_plugin-vue_export-helper-x3n3nnut.js";const b=o=>(B("data-v-28e922b7"),o=o(),F(),o),L=b(()=>e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," See Photo ",-1)),M={key:0},R={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},q={class:"flex flex-col sm:flex-row space-x-8"},E={class:"w-full sm:w-1/2 md:w-1/3"},G=["src","alt"],z={class:"flex justify-center mt-6"},H={class:"w-full sm:w-1/2 md:w-2/3"},J={class:"flex flex-row"},K=["value"],Q=["disabled"],W={class:"mt-4"},X=b(()=>e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100"}," Litter Objects ",-1)),Y={class:"mt-2"},Z={__name:"Show",props:{photoId:Number,items:Array,tags:Object,nextPhotoUrl:String},setup(o){const g=o,n=u(null),p=u([]),r=u(g.items[0].id);T(()=>{l()});const l=()=>{axios.get(`/photos/${g.photoId}`).then(t=>{n.value=t.data.photo,p.value=t.data.items}).catch(t=>{console.log(t)})},I=()=>{axios.post(`/photos/${n.value.id}/items`,{item_id:r.value}).then(()=>{l()})},k=t=>{axios.delete(`/photo-items/${t}`).then(()=>{l()})},P=(t,d)=>{axios.post(`/photo-items/${t.id}/tags`,{tag_id:d}).then(()=>{l()})},S=(t,d)=>{axios.delete(`/photo-items/${t.id}/tags/${d}`).then(()=>{l()})},$=t=>{axios.post(`/photo-items/${t}/picked-up`).then(()=>{l()})};return(t,d)=>(s(),m(C,{title:"See Photo"},{header:i(()=>[L]),default:i(()=>[n.value?(s(),c("div",M,[e("div",R,[e("div",q,[e("div",E,[e("img",{src:n.value.full_path,alt:n.value.id,class:"w-full sm:max-w-2xl sm:mx-auto sm:rounded-lg sm:overflow-hidden"},null,8,G),e("div",z,[o.nextPhotoUrl?(s(),m(_(f),{key:0,href:o.nextPhotoUrl},{default:i(()=>[h(y,null,{default:i(()=>[x("Next Photo")]),_:1})]),_:1},8,["href"])):(s(),m(_(f),{key:1,href:t.route("my-photos")},{default:i(()=>[h(y,null,{default:i(()=>[x("All Photos")]),_:1})]),_:1},8,["href"]))])]),e("div",H,[e("div",J,[N(e("select",{id:"add-item","onUpdate:modelValue":d[0]||(d[0]=a=>r.value=a),name:"add-item",class:"block w-full sm:w-48 rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},[(s(!0),c(v,null,w(o.items,a=>(s(),c("option",{value:a.id},V(a.name),9,K))),256))],512),[[U,r.value]]),e("button",{type:"button",class:"ml-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",onClick:I,disabled:r.value===""}," Add Object ",8,Q)]),e("div",W,[X,e("div",Y,[h(j,{tag:"ul",name:"items",role:"list",class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},{default:i(()=>[(s(!0),c(v,null,w(p.value,a=>(s(),m(O,{key:a.pivot.id,item:a,tags:o.tags,onRemoveItem:k,onAddTagToItem:P,onRemoveTagFromItem:S,onTogglePickedUp:$},null,8,["item","tags"]))),128))]),_:1})])])])])])])):A("",!0)]),_:1}))}},it=D(Z,[["__scopeId","data-v-28e922b7"]]);export{it as default};
