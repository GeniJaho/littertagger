import{r as m,p as I,o as d,c as _,w as r,d as c,a as e,k,q as S,F as g,g as h,t as $,b as T,s as P,e as A,x as B,y as F}from"./app-b55e7fa3.js";import{_ as N}from"./AppLayout-6e0f59c8.js";import V from"./PhotoItem-438e24a4.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";const x=o=>(B("data-v-b37c2969"),o=o(),F(),o),U=x(()=>e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," See Photo ",-1)),j={key:0},D={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},L={class:"flex flex-col sm:flex-row space-x-8"},M={class:"w-full sm:w-1/2 md:w-1/3"},O=["src","alt"],R={class:"w-full sm:w-1/2 md:w-2/3"},q={class:"flex flex-row"},E=["value"],G=["disabled"],z={class:"mt-4"},H=x(()=>e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100"}," Litter Objects ",-1)),J={class:"mt-2"},K={__name:"Show",props:{photoId:Number,items:Array,tags:Array},setup(o){const u=o,l=m(null),p=m([]),n=m(u.items[0].id);I(()=>{a()});const a=()=>{axios.get(`/photos/${u.photoId}`).then(t=>{l.value=t.data.photo,p.value=t.data.items}).catch(t=>{console.log(t)})},v=()=>{axios.post(`/photos/${l.value.id}/items`,{item_id:n.value}).then(()=>{a()})},f=t=>{axios.delete(`/photo-items/${t}`).then(()=>{a()})},w=(t,i)=>{axios.post(`/photo-items/${t.id}/tags`,{tag_id:i}).then(()=>{a()})},b=(t,i)=>{axios.delete(`/photo-items/${t.id}/tags/${i}`).then(()=>{a()})},y=t=>{axios.post(`/photo-items/${t}/picked-up`).then(()=>{a()})};return(t,i)=>(d(),_(N,{title:"See Photo"},{header:r(()=>[U]),default:r(()=>[l.value?(d(),c("div",j,[e("div",D,[e("div",L,[e("div",M,[e("img",{src:l.value.full_path,alt:l.value.id,class:"w-full sm:max-w-2xl"},null,8,O)]),e("div",R,[e("div",q,[k(e("select",{id:"add-item","onUpdate:modelValue":i[0]||(i[0]=s=>n.value=s),name:"add-item",class:"block w-full sm:w-48 rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},[(d(!0),c(g,null,h(o.items,s=>(d(),c("option",{value:s.id},$(s.name),9,E))),256))],512),[[S,n.value]]),e("button",{type:"button",class:"ml-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",onClick:v,disabled:n.value===""}," Add Object ",8,G)]),e("div",z,[H,e("div",J,[T(P,{tag:"ul",name:"items",role:"list",class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},{default:r(()=>[(d(!0),c(g,null,h(p.value,s=>(d(),_(V,{key:s.pivot.id,item:s,tags:o.tags,onRemoveItem:f,onAddTagToItem:w,onRemoveTagFromItem:b,onTogglePickedUp:y},null,8,["item","tags"]))),128))]),_:1})])])])])])])):A("",!0)]),_:1}))}},Z=C(K,[["__scopeId","data-v-b37c2969"]]);export{Z as default};
