import{r as p,p as N,o,c as u,w as a,d as n,a as s,u as _,i as w,b as h,f as x,e as c,k as V,q as j,F as y,g as I,t as B,s as C,x as F,y as A}from"./app-NAMudLdh.js";import{_ as O}from"./AppLayout-53J4UU-1.js";import D from"./PhotoItem-w21MQ533.js";import{_ as f}from"./PrimaryButton-w61ay0-5.js";import{_ as L}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./ToggleInput-M0J8pXoj.js";const k=e=>(F("data-v-75895589"),e=e(),A(),e),M=k(()=>s("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," See Photo ",-1)),R={key:0},q={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},E={class:"flex flex-col md:flex-row md:space-x-8"},G={class:"w-full md:w-1/2 xl:w-1/3 px-4"},z=["src","alt"],H={key:0,class:"flex justify-between mt-4"},J={class:"w-full md:w-1/2 xl:w-2/3 px-4"},K={class:"flex flex-row mt-6 md:mt-0"},Q=["value"],W={key:0,class:"mt-8"},X=k(()=>s("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100"}," Litter Objects ",-1)),Y={class:"mt-2"},Z={__name:"Show",props:{photoId:Number,items:Array,tags:Object,nextPhotoUrl:String,previousPhotoUrl:String},setup(e){const v=e,r=p(null),g=p([]),m=p(v.items[0].id);N(()=>{l()});const l=()=>{axios.get(`/photos/${v.photoId}`).then(t=>{r.value=t.data.photo,g.value=t.data.items}).catch(t=>{console.log(t)})},P=()=>{axios.post(`/photos/${r.value.id}/items`,{item_id:m.value}).then(()=>{l()})},b=t=>{axios.delete(`/photo-items/${t}`).then(()=>{l()})},S=t=>{axios.post(`/photo-items/${t}/copy`).then(()=>{l()})},U=(t,d)=>{axios.post(`/photo-items/${t.id}/tags`,{tag_id:d}).then(()=>{l()})},$=(t,d)=>{axios.delete(`/photo-items/${t.id}/tags/${d}`).then(()=>{l()})},T=t=>{axios.post(`/photo-items/${t}/picked-up`).then(()=>{l()})};return(t,d)=>(o(),u(O,{title:"See Photo"},{header:a(()=>[M]),default:a(()=>[r.value?(o(),n("div",R,[s("div",q,[s("div",E,[s("div",G,[s("img",{src:r.value.full_path,alt:r.value.id,class:"w-full sm:max-w-2xl sm:overflow-hidden rounded-lg shadow-lg"},null,8,z),e.previousPhotoUrl||e.nextPhotoUrl?(o(),n("div",H,[e.previousPhotoUrl?(o(),u(_(w),{key:0,href:e.previousPhotoUrl},{default:a(()=>[h(f,null,{default:a(()=>[x("Previous")]),_:1})]),_:1},8,["href"])):c("",!0),e.nextPhotoUrl?(o(),u(_(w),{key:1,href:e.nextPhotoUrl,class:"ml-auto"},{default:a(()=>[h(f,null,{default:a(()=>[x("Next")]),_:1})]),_:1},8,["href"])):c("",!0)])):c("",!0)]),s("div",J,[s("div",K,[V(s("select",{id:"add-item","onUpdate:modelValue":d[0]||(d[0]=i=>m.value=i),name:"add-item",class:"block w-full sm:w-48 rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},[(o(!0),n(y,null,I(e.items,i=>(o(),n("option",{value:i.id},B(i.name),9,Q))),256))],512),[[j,m.value]]),h(f,{class:"whitespace-nowrap ml-4",onClick:P,disabled:m.value===""},{default:a(()=>[x(" Add Object ")]),_:1},8,["disabled"])]),g.value.length?(o(),n("div",W,[X,s("div",Y,[h(C,{tag:"ul",name:"items",role:"list",class:"grid grid-cols-1 gap-6 xl:grid-cols-2"},{default:a(()=>[(o(!0),n(y,null,I(g.value,i=>(o(),u(D,{key:i.pivot.id,item:i,tags:e.tags,onRemoveItem:b,onAddTagToItem:U,onRemoveTagFromItem:$,onCopyItem:S,onTogglePickedUp:T},null,8,["item","tags"]))),128))]),_:1})])])):c("",!0)])])])])):c("",!0)]),_:1}))}},it=L(Z,[["__scopeId","data-v-75895589"]]);export{it as default};
