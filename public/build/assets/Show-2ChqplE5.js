import{p as S,q as z,r as U,s as H,o as m,c as $,w as g,d as _,a as l,b as k,u as P,i as M,f as C,e as T,k as X,x as J,F as R,g as V,t as K,y as Y,O as Z,z as tt,A as et}from"./app-ZX8NxVYS.js";import{_ as ot}from"./AppLayout-Wd7tfmT9.js";import st from"./PhotoItem-uPybHFFs.js";import{_ as N}from"./PrimaryButton-fdKCITvE.js";import{_ as nt}from"./IconDangerButton-LkNWYhQY.js";import{_ as it}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./ToggleInput-hUtR7goU.js";import"./TextInput-e4vMWAPl.js";var at="Expected a function",D=NaN,rt="[object Symbol]",lt=/^\s+|\s+$/g,dt=/^[-+]0x[0-9a-f]+$/i,ct=/^0b[01]+$/i,ut=/^0o[0-7]+$/i,mt=parseInt,ft=typeof S=="object"&&S&&S.Object===Object&&S,gt=typeof self=="object"&&self&&self.Object===Object&&self,ht=ft||gt||Function("return this")(),pt=Object.prototype,xt=pt.toString,vt=Math.max,_t=Math.min,E=function(){return ht.Date.now()};function yt(t,s,n){var d,c,i,h,a,f,x=0,w=!1,v=!1,y=!0;if(typeof t!="function")throw new TypeError(at);s=W(s)||0,F(n)&&(w=!!n.leading,v="maxWait"in n,i=v?vt(W(n.maxWait)||0,s):i,y="trailing"in n?!!n.trailing:y);function b(o){var p=d,I=c;return d=c=void 0,x=o,h=t.apply(I,p),h}function e(o){return x=o,a=setTimeout(j,s),w?b(o):h}function r(o){var p=o-f,I=o-x,L=s-p;return v?_t(L,i-I):L}function u(o){var p=o-f,I=o-x;return f===void 0||p>=s||p<0||v&&I>=i}function j(){var o=E();if(u(o))return B(o);a=setTimeout(j,r(o))}function B(o){return a=void 0,y&&d?b(o):(d=c=void 0,h)}function Q(){a!==void 0&&clearTimeout(a),x=0,d=f=c=a=void 0}function q(){return a===void 0?h:B(E())}function O(){var o=E(),p=u(o);if(d=arguments,c=this,f=o,p){if(a===void 0)return e(f);if(v)return a=setTimeout(j,s),b(f)}return a===void 0&&(a=setTimeout(j,s)),h}return O.cancel=Q,O.flush=q,O}function F(t){var s=typeof t;return!!t&&(s=="object"||s=="function")}function bt(t){return!!t&&typeof t=="object"}function It(t){return typeof t=="symbol"||bt(t)&&xt.call(t)==rt}function W(t){if(typeof t=="number")return t;if(It(t))return D;if(F(t)){var s=typeof t.valueOf=="function"?t.valueOf():t;t=F(s)?s+"":s}if(typeof t!="string")return t===0?t:+t;t=t.replace(lt,"");var n=ct.test(t);return n||ut.test(t)?mt(t.slice(2),n?2:8):dt.test(t)?D:+t}var kt=yt;const G=z(kt),A=t=>(tt("data-v-7654c9e8"),t=t(),et(),t),Tt=A(()=>l("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," See Photo ",-1)),wt={key:0},jt={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},St={class:"flex flex-col md:flex-row md:space-x-8"},$t={class:"w-full md:w-1/2 xl:w-1/3 px-4"},Pt={class:"relative"},Ot=["src","alt"],Ut=A(()=>l("i",{class:"fas fa-fw fa-trash-alt text-xs"},null,-1)),Ct={key:0,class:"flex justify-between mt-4"},Nt={class:"w-full md:w-1/2 xl:w-2/3 px-4"},Et={class:"flex flex-row mt-6 md:mt-0"},Ft=["value"],At={key:0,class:"mt-8"},Bt=A(()=>l("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100"}," Litter Objects ",-1)),Lt={class:"mt-2"},Mt={__name:"Show",props:{photoId:Number,items:Array,tags:Object,nextPhotoUrl:String,previousPhotoUrl:String},setup(t){const s=t,n=U(null),d=U([]),c=U(s.items[0].id);H(()=>{i()});const i=()=>{axios.get(`/photos/${s.photoId}`).then(e=>{n.value=e.data.photo,d.value=e.data.items}).catch(e=>{console.log(e)})},h=()=>{Z.delete(`/photos/${n.value.id}`)},a=()=>{axios.post(`/photos/${n.value.id}/items`,{item_id:c.value}).then(()=>{i()})},f=e=>{axios.delete(`/photo-items/${e}`).then(()=>{i()})},x=e=>{axios.post(`/photo-items/${e}/copy`).then(()=>{i()})},w=(e,r)=>{axios.post(`/photo-items/${e.id}/tags`,{tag_id:r}).then(()=>{i()})},v=(e,r)=>{axios.delete(`/photo-items/${e.id}/tags/${r}`).then(()=>{i()})},y=G((e,r)=>{axios.post(`/photo-items/${e}`,{picked_up:r}).then(()=>{i()})},1e3,{leading:!0,trailing:!0}),b=G((e,r)=>{axios.post(`/photo-items/${e}`,{quantity:r}).then(()=>{i()})},1e3,{leading:!0,trailing:!0});return(e,r)=>(m(),$(ot,{title:"See Photo"},{header:g(()=>[Tt]),default:g(()=>[n.value?(m(),_("div",wt,[l("div",jt,[l("div",St,[l("div",$t,[l("div",Pt,[l("img",{src:n.value.full_path,alt:n.value.id,class:"w-full sm:max-w-2xl sm:overflow-hidden rounded-lg shadow-lg"},null,8,Ot),k(nt,{class:"absolute top-4 right-4",onClick:h},{default:g(()=>[Ut]),_:1})]),t.previousPhotoUrl||t.nextPhotoUrl?(m(),_("div",Ct,[t.previousPhotoUrl?(m(),$(P(M),{key:0,href:t.previousPhotoUrl},{default:g(()=>[k(N,null,{default:g(()=>[C("Previous")]),_:1})]),_:1},8,["href"])):T("",!0),t.nextPhotoUrl?(m(),$(P(M),{key:1,href:t.nextPhotoUrl,class:"ml-auto"},{default:g(()=>[k(N,null,{default:g(()=>[C("Next")]),_:1})]),_:1},8,["href"])):T("",!0)])):T("",!0)]),l("div",Nt,[l("div",Et,[X(l("select",{id:"add-item","onUpdate:modelValue":r[0]||(r[0]=u=>c.value=u),name:"add-item",class:"block w-full sm:w-48 rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},[(m(!0),_(R,null,V(t.items,u=>(m(),_("option",{value:u.id},K(u.name),9,Ft))),256))],512),[[J,c.value]]),k(N,{class:"whitespace-nowrap ml-4",onClick:a,disabled:c.value===""},{default:g(()=>[C(" Add Object ")]),_:1},8,["disabled"])]),d.value.length?(m(),_("div",At,[Bt,l("div",Lt,[k(Y,{tag:"ul",name:"items",role:"list",class:"grid grid-cols-1 gap-6 xl:grid-cols-2"},{default:g(()=>[(m(!0),_(R,null,V(d.value,u=>(m(),$(st,{key:u.pivot.id,item:u,tags:t.tags,onRemoveItem:f,onAddTagToItem:w,onRemoveTagFromItem:v,onCopyItem:x,onTogglePickedUp:P(y),onUpdateQuantity:P(b)},null,8,["item","tags","onTogglePickedUp","onUpdateQuantity"]))),128))]),_:1})])])):T("",!0)])])])])):T("",!0)]),_:1}))}},Ht=it(Mt,[["__scopeId","data-v-7654c9e8"]]);export{Ht as default};
